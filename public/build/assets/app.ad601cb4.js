import{m as i}from"./module.esm.ff9cc1d2.js";import{l as u,S as s,A as d}from"./load.6385fe31.js";function p(e){u("body","\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438",!0),s("POST","get/rating/"+e).then(r=>m(JSON.parse(r).data)).catch(r=>d("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function m(e){if(c==1&&e.length==0)return h(),u("body","\u0413\u043E\u0442\u043E\u0432\u043E",!1),!0;let r=document.querySelector("#ratingtable");for(var n=0;n<e.length;n++){let t=document.createElement("li");t.setAttribute("class","list-group-item d-flex row"),t.appendChild(o(e[n].subject,"col text-left")),t.appendChild(o(e[n].value,"col text-center"));let a=e[n].num_day+"."+e[n].num_month+"."+e[n].year;t.appendChild(o(a,"col text-right")),r.appendChild(t)}function o(t,a="default"){let l=document.createElement("span");return l.setAttribute("class",a),l.innerText=t,l}u("body","\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438",!1)}function h(){let e=document.querySelector("#rating_history");e.innerHTML='<h2 class = "margin10" style = "text-align:center;">\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435 \u043E\u0434\u043D\u043E\u0439 \u043E\u0446\u0435\u043D\u043A\u0438</h2>'}let c=1;document.querySelector("#more").onclick=()=>{p(c),c=c+1};function g(){s("GET","get/hours").then(e=>f(JSON.parse(e).data)).catch(e=>d("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function f(e){let r=document.querySelector("#hourstable");r.innerHTML=" ";for(var n=0;n<e.length;n++){let t=document.createElement("li");t.setAttribute("class","list-group-item row d-flex"),t.appendChild(o(e[n].subject,"text-center")),t.appendChild(o(e[n].hours,"text-center")),r.appendChild(t)}function o(t,a=""){let l=document.createElement("span");return l.setAttribute("class","col "+a),l.innerText=t,l}}window.Alpine=i;i.start();window.onload=()=>{p(0),g()};
