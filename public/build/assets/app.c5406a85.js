import{m as f}from"./module.esm.ff9cc1d2.js";import{l as m,S as s,A as l}from"./load.6159578f.js";function p(e){m("body","\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438",!0),s("POST","get/rating/"+e).then(t=>h(t.data)).catch(t=>l("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function h(e){if(u==1&&e.length==0)return g(),m("body","\u0413\u043E\u0442\u043E\u0432\u043E",!1),!0;let t=document.querySelector("#ratingtable");for(var n=0;n<e.length;n++){let o=document.createElement("li");o.setAttribute("class","list-group-item d-flex row"),o.appendChild(r(e[n].subject,"col text-left")),o.appendChild(r(e[n].value,"col text-center"));let a=e[n].num_day+"."+e[n].num_month+"."+e[n].year;o.appendChild(r(a,"col text-right")),t.appendChild(o)}function r(o,a="default"){let c=document.createElement("span");return c.setAttribute("class",a),c.innerText=o,c}m("body","\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438",!1)}function g(){let e=document.querySelector("#rating_history");e.innerHTML='<h2 class = "margin10" style = "text-align:center;">\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435 \u043E\u0434\u043D\u043E\u0439 \u043E\u0446\u0435\u043D\u043A\u0438</h2>'}let u=1;document.querySelector("#more").onclick=()=>{p(u),u=u+1};function b(e){s("POST","update/code",e).then(t=>l("\u041A\u043E\u0434 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D","success")).catch(t=>l(t,"error"))}function y(e){s("POST","create/code",e).then(t=>S()).catch(t=>l(t,"error"))}function S(){l("\u041A\u043E\u0434 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D.\u041E\u0431\u043D\u043E\u0432\u043B\u044F\u044E \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443","success"),setTimeout(function(){location.reload()},1e3)}let i=document.querySelector("#tgcodeform");i.ondblclick=function(){d(!0)};function d(e){let t=document.querySelector("#input_code"),n=document.querySelector("#viewcode"),r=document.querySelector("#CodeHelpBlock");e?(n.classList.add("d-none"),t.classList.remove("d-none"),r.innerText="\u041A\u043B\u0438\u043A\u043D\u0438 \u043C\u0435\u043D\u044F \u0447\u0442\u043E\u0431 \u0437\u0430\u043A\u0440\u044B\u0442\u044C \u0444\u043E\u0440\u043C\u0443",r.onclick=function(){d(!1)}):(n.classList.remove("d-none"),t.classList.add("d-none"),r.innerText="\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 2 \u0440\u0430\u0437\u0430 \u0447\u0442\u043E\u0431 \u0432\u0432\u0435\u0441\u0442\u0438 \u043A\u043E\u0434")}i.elements.chat_id.value!==""?document.querySelector("#updatecodebtn").onclick=function(){let e=new FormData(i);b(e),d(!1)}:document.querySelector("#createcodebtn").onclick=function(){let e=new FormData(i);y(e),d(!1)};function T(){s("GET","get/hours").then(e=>C(e.data)).catch(e=>l(e,"error"))}function C(e){let t=document.querySelector("#hourstable");t.innerHTML=" ";for(var n=0;n<e.length;n++){let o=document.createElement("li");o.setAttribute("class","list-group-item row d-flex"),o.appendChild(r(e[n].subject,"text-center")),o.appendChild(r(e[n].hours,"text-center")),t.appendChild(o)}function r(o,a=""){let c=document.createElement("span");return c.setAttribute("class","col "+a),c.innerText=o,c}}window.Alpine=f;f.start();window.onload=()=>{p(0),T()};
