import{m as f}from"./module.esm.ff9cc1d2.js";import{l as m,S as d,A as l}from"./load.f2ae5b0b.js";function p(e){m("body","\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438",!0),d("POST","get/rating/"+e).then(n=>h(JSON.parse(n).data)).catch(n=>l("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function h(e){if(u==1&&e.length==0)return g(),m("body","\u0413\u043E\u0442\u043E\u0432\u043E",!1),!0;let n=document.querySelector("#ratingtable");for(var t=0;t<e.length;t++){let r=document.createElement("li");r.setAttribute("class","list-group-item d-flex row"),r.appendChild(o(e[t].subject,"col text-left")),r.appendChild(o(e[t].value,"col text-center"));let a=e[t].num_day+"."+e[t].num_month+"."+e[t].year;r.appendChild(o(a,"col text-right")),n.appendChild(r)}function o(r,a="default"){let c=document.createElement("span");return c.setAttribute("class",a),c.innerText=r,c}m("body","\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438",!1)}function g(){let e=document.querySelector("#rating_history");e.innerHTML='<h2 class = "margin10" style = "text-align:center;">\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435 \u043E\u0434\u043D\u043E\u0439 \u043E\u0446\u0435\u043D\u043A\u0438</h2>'}let u=1;document.querySelector("#more").onclick=()=>{p(u),u=u+1};function b(e){d("POST","update/code",e).then(n=>l("\u041A\u043E\u0434 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D","success")).catch(n=>l("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function S(e){d("POST","create/code",e).then(n=>y()).catch(n=>l("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function y(){l("\u041A\u043E\u0434 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D.\u041E\u0431\u043D\u043E\u0432\u043B\u044F\u044E \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443","success"),setTimeout(function(){location.reload()},1e3)}let i=document.querySelector("#tgcodeform");i.ondblclick=function(){s(!0)};function s(e){let n=document.querySelector("#input_code"),t=document.querySelector("#viewcode"),o=document.querySelector("#CodeHelpBlock");e?(t.classList.add("d-none"),n.classList.remove("d-none"),o.innerText="\u041A\u043B\u0438\u043A\u043D\u0438 \u043C\u0435\u043D\u044F \u0447\u0442\u043E\u0431 \u0437\u0430\u043A\u0440\u044B\u0442\u044C \u0444\u043E\u0440\u043C\u0443",o.onclick=function(){s(!1)}):(t.classList.remove("d-none"),n.classList.add("d-none"),o.innerText="\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 2 \u0440\u0430\u0437\u0430 \u0447\u0442\u043E\u0431 \u0432\u0432\u0435\u0441\u0442\u0438 \u043A\u043E\u0434")}i.elements.chat_id.value!==""?document.querySelector("#updatecodebtn").onclick=function(){let e=new FormData(i);b(e),s(!1)}:document.querySelector("#createcodebtn").onclick=function(){let e=new FormData(i);S(e),s(!1)};function T(){d("GET","get/hours").then(e=>C(JSON.parse(e).data)).catch(e=>l("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function C(e){let n=document.querySelector("#hourstable");n.innerHTML=" ";for(var t=0;t<e.length;t++){let r=document.createElement("li");r.setAttribute("class","list-group-item row d-flex"),r.appendChild(o(e[t].subject,"text-center")),r.appendChild(o(e[t].hours,"text-center")),n.appendChild(r)}function o(r,a=""){let c=document.createElement("span");return c.setAttribute("class","col "+a),c.innerText=r,c}}window.Alpine=f;f.start();window.onload=()=>{p(0),T()};
