import{m}from"./module.esm.ff9cc1d2.js";import{l as p,S as i,A as l}from"./load.f2ae5b0b.js";function f(e){p("body","\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438",!0),i("POST","get/rating/"+e).then(n=>h(JSON.parse(n).data)).catch(n=>l("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function h(e){let n=document.querySelector("#ratingtable");for(var t=0;t<e.length;t++){let o=document.createElement("li");o.setAttribute("class","list-group-item d-flex row"),o.appendChild(r(e[t].subject,"col text-left")),o.appendChild(r(e[t].value,"col text-center"));let a=e[t].num_day+"."+e[t].num_month+"."+e[t].year;o.appendChild(r(a,"col text-right")),n.appendChild(o)}function r(o,a="default"){let c=document.createElement("span");return c.setAttribute("class",a),c.innerText=o,c}p("body","\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438",!1)}let s=1;document.querySelector("#more").onclick=()=>{f(s),s=s+1};function g(e){i("POST","update/code",e).then(n=>l("\u041A\u043E\u0434 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D","success")).catch(n=>l("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function b(e){i("POST","create/code",e).then(n=>S()).catch(n=>l("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function S(){l("\u041A\u043E\u0434 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D.\u041E\u0431\u043D\u043E\u0432\u043B\u044F\u044E \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443","success"),setTimeout(function(){location.reload()},1e3)}let u=document.querySelector("#tgcodeform");u.ondblclick=function(){d(!0)};function d(e){let n=document.querySelector("#input_code"),t=document.querySelector("#viewcode"),r=document.querySelector("#CodeHelpBlock");e?(t.classList.add("d-none"),n.classList.remove("d-none"),r.innerText="\u041A\u043B\u0438\u043A\u043D\u0438 \u043C\u0435\u043D\u044F \u0447\u0442\u043E\u0431 \u0437\u0430\u043A\u0440\u044B\u0442\u044C \u0444\u043E\u0440\u043C\u0443",r.onclick=function(){d(!1)}):(t.classList.remove("d-none"),n.classList.add("d-none"),r.innerText="\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 2 \u0440\u0430\u0437\u0430 \u0447\u0442\u043E\u0431 \u0432\u0432\u0435\u0441\u0442\u0438 \u043A\u043E\u0434")}u.elements.chat_id.value!==""?document.querySelector("#updatecodebtn").onclick=function(){let e=new FormData(u);g(e),d(!1)}:document.querySelector("#createcodebtn").onclick=function(){let e=new FormData(u);b(e),d(!1)};function C(){i("GET","get/hours").then(e=>T(JSON.parse(e).data)).catch(e=>l("\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A","error"))}function T(e){let n=document.querySelector("#hourstable");n.innerHTML=" ";for(var t=0;t<e.length;t++){let o=document.createElement("li");o.setAttribute("class","list-group-item row d-flex"),o.appendChild(r(e[t].subject)),o.appendChild(r(e[t].hours,"text-right")),n.appendChild(o)}function r(o,a=""){let c=document.createElement("span");return c.setAttribute("class","col "+a),c.innerText=o,c}}window.Alpine=m;m.start();window.onload=()=>{f(0),C()};
